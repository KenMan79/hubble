require 'features_helper'

describe 'coda transaction', :vcr do
  let(:chain) { create :coda_chain }
  let(:tx)    do
    '5nBYmEdjgZx63SnXKHcmWtvp2uHUK7neLV9BBB42oEpocygkHVgiJeVyjwr1Vater5YPikdQJPhzFV7Fz9vjyvLRd1yAVPoRP7nqy1SV6c4PH4bZznG7TXDcgN9uEfmp2t2BG8UxxwJFVQJTXoXP65czFYDGahhiksBK6kTpGsKG6EvbhPtKHnA5km5P7Uyp6DscyhbUhEseCvjs8Q7WzVm4SGnqPG8SVmez2VMvpypcjgh7wd1cztxnmXdt5vDC1pfYw1BLkbVPp7D3uV2M5iXsfDtxgUtJ3ceTqDE4snEcQX7QLNJD1e559uNghEG3cEuzicyyCFK5mZ2gp4p1tyJTuUBorhfUW8XHXfbivuYEZZHf3NmmGwYQyRSuA9LcTjkQf7tSp1HFot7wsMYpSgujuV1uW6NkcGyvAgsv5qVCjipjnSJBVpVnH3fjN9E4tXEzVquH8E8AECqm3DFqPCbno1itToM7t4JTHcZYNbAWwD2J1M16Na9xr7uRbnnqxQns8EB2hV625ZxqNKQG7XkBdaPdeiU1aJrtH4KfLbXojc7ikS8xE4D4sU2ejFCsskm9sRTQV48KbePvJJjbMBrT7JiBZaCjg4JTPpoJ1j5dTQfQf5xqc1LsSjNiwzh8EoS278iLQTTmV5GNsaPnxSfKoJh1BSzNq63rat1Sp9cep3crUbdmacFHKCphxpX3TGgAK2tPjEcQvFsHJNgFM45YWLGSwDs5p88uQi5buRGReL1begRRrQk47E7FRDUCP91yJoXGNFXHaYfZvRcPd88mB6n3P5aEoczY1bBFRiqqMG8CxsWEH413f1pxPgzSkmkE2z9EB3TgSjHMe5EA2DhsQZumkLRzJX32GFBaQ8PGYSNzDpfkwr7kWpuNeFXGTrN5J7wgogef88a1RpKYqrYdR9QNmhqenhdhCscCvwFihK3zBT3aD4gYqR2r3eArysr3CZ9MMUx3YK7SHfM6E98JCodyJKAC96HXqnCjmEXui884fmbBnye5kFPXAeCyunBvcikiTUHnDqrnWTBHuYjAc4yi2FbTFtTrUeNP7wmwg9gQzGj9RzbLjxU8sctkXQ5GVopy8ioCmjqXc28v1PYSoY34cyK17EbHoev5QiuhN4zoPYs1XbSRJ1SFPJxrBn1dPk1fkFArmGff23rXKhaw54zb7xPf'
  end

  before do
    visit coda_chain_transaction_path(chain, tx)
  end

  it 'displays the transaction details' do
    expect(page).to have_text '5nBYmEdjgZx63SnXKHcmWtvp2uH'
    expect(page).to have_text 'Payment'
    expect(page).to have_text '4vsRCVnG2vWaFpEiP5NzooJryxbgGGSHEP6B86GrBdRVnsg'
    expect(page).to have_text '1594841711'
    expect(page).to have_text '6091'
  end
end
