<% content_for :body_class, 'governance-index' %>

<%= render partial: '/cosmos/shared/chain_header', locals: { summary_link: true } %>
<%= render partial: '/cosmos/shared/sync_errors' %>

<div class='governance-proposals-list'>
  <div class='row'>
    <div class='col-12 col-md-9'>
      <section class='gov-proposals'>
        <div class='gov-proposals-table-header d-flex align-items-center justify-content-between'>
          <h4>Governance Proposals</h4>

          <div class='controls'>
            <button class='btn btn-sm btn-outline-light' data-toggle='modal' data-target='#proposal-modal'>New Proposal</button>
          </div>
        </div>

        <%= render 'cosmos/governance/proposals_table', proposals: @proposals %>
      </section>
    </div>

    <div class='col-12 col-md-3'>
      <%= render 'cosmos/governance/params' -%>
    </div>
  </div>
</div>

<% content_for :modals do -%>
  <div class='modal fade' id='proposal-modal' tabindex='-1' role='dialog' data-chain-id='<%= @chain.ext_id %>'>
    <div class='modal-dialog modal-dialog-centered' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <h5 class='modal-title'>Create Proposal</h5>
          <button type='button' class='close' data-dismiss='modal' aria-label='Close'>
            <span aria-hidden='true'>&times;</span>
          </button>
        </div>

        <div class='modal-body'>
          <div class='form-group'>
            <label>Title</label>
            <input type='text' name='title' class='form-control' value='' />
          </div>

          <div class='form-group'>
            <label>Description</label>
            <textarea name='description' class='form-control'></textarea>
          </div>

          <div class='form-group'>
            <label>Deposit</label>
            <input type='text' name='deposit' class='form-control' value='' />
          </div>

          <div class='form-group'>
            <label>From</label>
            <input type='text' name='from' class='form-control' value='' />
          </div>

          <div class='mt-3 d-flex justify-content-between align-items-center'>
            <pre class='cli-command'></pre>
            <button class='btn btn-primary btn-sm copy-button'>Copy</button>
          </div>
        </div>

        <div class='modal-footer'>
          <button type='button' class='btn btn-secondary' data-dismiss='modal'>Done</button>
        </div>
      </div>
    </div>
  </div>
<% end -%>
